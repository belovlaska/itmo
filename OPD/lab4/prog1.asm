ORG 10
XA: WORD 2
XB: WORD -2
YA: WORD -8
YB: WORD 4
ZA: WORD -3
ZB: WORD -5
x1: WORD 0
x2: WORD 0
res: WORD 0
RESULT: WORD 0
START:
CLA
LD XA
ST x1
LD XB
ST x2
CALL $FUNC
LD $res
ADD RESULT
ST RESULT


LD YA
ST x1
LD YB
ST x2
CALL $FUNC
LD $res
ADD RESULT
ST RESULT

LD ZA
ST x1
LD ZB
ST x2
CALL $FUNC
LD $res
ADD RESULT
ST RESULT

HLT


ORG 100
FUNC:
CLA
ST $res
LD $x1
CMP CONST
BEQ ZER
BPL FUNCT
NEG
LD FLAG1
INC
LD $x1
FUNCT:
ST $xn
LD $x2
BPL CYCLE
NEG 
LD FLAG2
INC
CYCLE:
CLA
ADD $x2
ST $res
LOOP $xn
JUMP CYCLE
LD FLAG1
SUB FLAG2
CMP CONST
BEQ ZER
LD $res
NEG
ST $res
ZER:
RET
xn: WORD 0
CONST: WORD 0
FLAG2: WORD 0
FLAG1: WORD 0